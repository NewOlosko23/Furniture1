import{j as e,a as s}from"./dashboard-C1h4I9NF.js";import{r as t,L as a}from"./router-vendor-DfO8ZQAf.js";import{u as r,c as i,e as l,C as n}from"./product-pages-DKuGRvFP.js";import{ap as c,a6 as o,aq as m,d,l as x,am as h}from"./ui-vendor-CbLBB-l_.js";import"./supabase-vendor-BOp2EyVH.js";import"./react-vendor-CEZjBCbl.js";import"./charts-vendor-D6BWP-Ru.js";const p=e=>`KES ${e.toLocaleString(void 0,{minimumFractionDigits:2})}`,g=()=>{const{cartItems:g,removeFromCart:u,clearCart:j,updateQuantity:b}=r(),[y,f]=t.useState(!1);t.useEffect(()=>{const e=l.cart;i(e.title,e.description,e.keywords,"https://shop-12c5.onrender.com/android-chrome-512x512.png","https://shop-12c5.onrender.com/cart")},[]);const N=g.reduce((e,s)=>e+s.price*s.quantity,0);return 0===g.length?e.jsx(n,{className:"py-20",padding:"responsive-lg",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(c,{className:"w-12 h-12 text-indigo-600"})})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600",children:"Looks like you haven't added any furniture to your cart yet."})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsxs(a,{to:"/browse",className:"inline-flex items-center justify-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-indigo-700 transition-colors",children:[e.jsx(c,{className:"w-4 h-4"}),"Browse Products"]})})]})}):e.jsxs(n,{className:"py-8",padding:"responsive-lg",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[e.jsxs(a,{to:"/browse",className:"inline-flex items-center gap-2 text-gray-600 hover:text-indigo-600 transition-colors text-sm sm:text-base",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Continue Shopping"}),e.jsx("span",{className:"sm:hidden",children:"Back"})]}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 text-center",children:"Shopping Cart"}),e.jsx("div",{className:"w-20 sm:w-24"})," "]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:g.map(s=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("img",{src:s.image||s.image_url||"/placeholder.jpg",alt:s.name,className:"w-full sm:w-20 h-32 sm:h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-indigo-600 mb-4",children:p(s.price)}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>{return e=s.id,b(e,-1);var e},disabled:s.quantity<=1,className:"p-2 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation","aria-label":`Decrease quantity of ${s.name}`,children:e.jsx(m,{className:"w-4 h-4"})}),e.jsx("span",{className:"px-3 py-2 text-sm font-medium min-w-[40px] text-center",children:s.quantity}),e.jsx("button",{onClick:()=>{return e=s.id,b(e,1);var e},className:"p-2 hover:bg-gray-50 transition-colors touch-manipulation","aria-label":`Increase quantity of ${s.name}`,children:e.jsx(d,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900",children:p(s.price*s.quantity)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>u(s.id),className:"flex items-center gap-2 text-red-600 hover:text-red-700 transition-colors cursor-pointer touch-manipulation","aria-label":`Remove ${s.name} from cart`,children:[e.jsx(x,{className:"w-4 h-4"}),"Remove"]})})]})]})},s.id))}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 lg:sticky lg:top-8",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Order Summary"}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Items in your order:"}),e.jsx("div",{className:"space-y-2 max-h-32 sm:max-h-48 overflow-y-auto",children:g.map(s=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:s.image||s.image_url||"/placeholder.jpg",alt:s.name,className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-md flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",s.quantity]})]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-indigo-600 flex-shrink-0",children:p(s.price*s.quantity)})]},s.id))})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsxs("span",{className:"text-gray-600",children:["Subtotal (",g.length," products)"]}),e.jsx("span",{className:"font-medium",children:p(N)})]}),e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsx("span",{className:"font-medium",children:"Included"})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:e.jsxs("div",{className:"flex justify-between text-base sm:text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-indigo-600",children:p(N)})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{if(0===g.length)return void s("Your cart is empty!");f(!0);const e=`ðŸ›‹ï¸ FURNITURE ORDER REQUEST\n\nHello! I'd like to place an order for the following items:\n\n${g.map((e,s)=>{const t=e.price*e.quantity,a=e.slug?`\n   Link: ${window.location.origin}/product/${e.slug}`:e.id?`\n   Link: ${window.location.origin}/product/${e.id}`:"";return`${s+1}. ${e.name}\n   Quantity: ${e.quantity}\n   Unit Price: KES ${e.price.toLocaleString()}\n   Total: KES ${t.toLocaleString()}${a}`}).join("\n\n")}\n\nðŸ“Š ORDER SUMMARY:\nâ€¢ Products: ${g.length}\nâ€¢ Total Amount: KES ${N.toLocaleString()}\n\nPlease confirm:\nâœ… Availability of all items\nâœ… Delivery timeline\nâœ… Payment options\n\nThank you!`,t=`https://wa.me/+254799590711?text=${encodeURIComponent(e)}`;window.open(t,"_blank"),f(!1)},disabled:y,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 sm:py-3 rounded-lg transition-colors touch-manipulation "+(y?"opacity-60 cursor-not-allowed":"cursor-pointer"),"aria-label":"Place order",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),e.jsx("span",{className:"text-sm sm:text-base",children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Order via WhatsApp"})]})}),e.jsxs("button",{onClick:j,disabled:y,className:"w-full flex items-center justify-center gap-2 border border-red-300 text-red-600 hover:bg-red-50 font-medium py-3 rounded-lg transition-colors touch-manipulation "+(y?"opacity-60 cursor-not-allowed":"cursor-pointer"),children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Clear Cart"})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500 text-center leading-relaxed",children:"We'll contact you to confirm availability and delivery details."})})]})})]})]})};export{g as default};
