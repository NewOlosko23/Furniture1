import{j as e,s,a,h as t,b as r,c as i,d as l,g as n,e as o,f as c,u as d,i as m,k as g}from"./dashboard-C1h4I9NF.js";import{r as x,u,f as h,L as p,e as y,g as f}from"./router-vendor-DfO8ZQAf.js";import{N as j,R as b,O as N,Q as v,X as w,V as C,Y as S,E as k,S as A,Z as _,_ as $,$ as F,a0 as P,j as L,a1 as D,a2 as I,o as R,W as O,a3 as T,P as M,a4 as E,p as q,t as B,s as K,h as H}from"./ui-vendor-CbLBB-l_.js";import{d as z}from"./charts-vendor-D6BWP-Ru.js";const Q=x.createContext(),U={cartItems:JSON.parse(localStorage.getItem("cartItems"))||[]};function W(e,s){switch(s.type){case"ADD_TO_CART":{const a=e.cartItems.find(e=>e.id===s.payload.id);return{...e,cartItems:a?e.cartItems.map(e=>e.id===s.payload.id?{...e,quantity:e.quantity+1}:e):[...e.cartItems,{...s.payload,quantity:1}]}}case"REMOVE_FROM_CART":return{...e,cartItems:e.cartItems.filter(e=>e.id!==s.payload)};case"CLEAR_CART":return{...e,cartItems:[]};case"UPDATE_QUANTITY":{const{id:a,amount:t}=s.payload;return{...e,cartItems:e.cartItems.map(e=>e.id===a?{...e,quantity:Math.max(1,e.quantity+t)}:e).filter(e=>e.quantity>0)}}default:return e}}const Y=({children:t})=>{const[r,i]=x.useReducer(W,U);x.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(r.cartItems))},[r.cartItems]);return e.jsx(Q.Provider,{value:{cartItems:r.cartItems,addToCart:e=>r.cartItems.find(s=>s.id===e.id)?(a("Item is already in your cart"),!1):(i({type:"ADD_TO_CART",payload:e}),s(`${e.name} added to cart`),!0),removeFromCart:e=>{const a=r.cartItems.find(s=>s.id===e);i({type:"REMOVE_FROM_CART",payload:e}),a&&s(`${a.name} removed from cart`)},clearCart:()=>{i({type:"CLEAR_CART"}),s("Cart cleared")},updateQuantity:(e,s)=>i({type:"UPDATE_QUANTITY",payload:{id:e,amount:s}})},children:t})},V=()=>x.useContext(Q),G=({children:s,className:a,as:t="div",maxWidth:r="7xl",padding:i="responsive",center:l=!0,...n})=>{const o=z({"3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl",full:"max-w-full"}[r],l&&"mx-auto",{none:"",sm:"px-4",md:"px-6",lg:"px-8",responsive:"px-4 sm:px-6 lg:px-8","responsive-lg":"px-6 md:px-12"}[i],a);return e.jsx(t,{className:o,...n,children:s})};const Z=new class{constructor(){this.preloadQueue=new Set,this.isPreloading=!1,this.preloadHistory=new Map}async preloadEssentialData(){const e=[{type:"products",priority:"high"},{type:"categories",priority:"high"}];for(const s of e)t(s.type)||await this.preloadData(s.type)}async preloadByRoute(e){const s={"/":["products","categories"],"/browse":["products","categories"],"/dashboard":["orders","analytics","chartData","activities"],"/product":["products"],"/category":["products","categories"]}[e]||[];for(const a of s)t(a)||this.preloadQueue.has(a)||(this.preloadQueue.add(a),this.preloadData(a))}async preloadRelatedData(e){try{const{data:s}=await r.from("products").select("category").eq("id",e).single();if(s?.category){const e=`category_${s.category.toLowerCase().replace(/\s+/g,"_")}`;t("products",e)||await this.preloadProductsByCategory(s.category)}}catch(s){}}async preloadByBehavior(e,s={}){switch(e){case"view_product":s.productId&&await this.preloadRelatedData(s.productId);break;case"browse_category":if(s.category){const e=`category_${s.category.toLowerCase().replace(/\s+/g,"_")}`;t("products",e)||await this.preloadProductsByCategory(s.category)}break;case"dashboard_view":t("orders")||await this.preloadData("orders"),t("analytics")||await this.preloadData("analytics")}}async preloadData(e){if(!this.preloadQueue.has(e)){this.preloadQueue.add(e);try{switch(e){case"products":await this.preloadProducts();break;case"categories":await this.preloadCategories();break;case"orders":await this.preloadOrders();break;case"analytics":await this.preloadAnalytics();break;case"chartData":await this.preloadChartData();break;case"activities":await this.preloadActivities()}}catch(s){}finally{this.preloadQueue.delete(e)}}}async preloadProducts(){try{const{data:e,error:s}=await r.from("products").select("*").order("id",{ascending:!1});!s&&e&&(i("products",e),this.recordPreload("products"))}catch(e){}}async preloadProductsByCategory(e){try{const{data:s,error:a}=await r.from("products").select("*").eq("category",e).order("id",{ascending:!1});if(!a&&s){const a=`category_${e.toLowerCase().replace(/\s+/g,"_")}`;i("products",s,a),this.recordPreload(`products_${a}`)}}catch(s){}}async preloadCategories(){try{const{data:e,error:s}=await r.from("products").select("category").not("category","is",null);if(!s&&e){const s=[...new Set(e.map(e=>e.category))].sort();i("categories",s),this.recordPreload("categories")}}catch(e){}}async preloadOrders(){try{const{data:e,error:s}=await r.from("orders").select("*").order("created_at",{ascending:!1});!s&&e&&(i("orders",e),this.recordPreload("orders"))}catch(e){}}async preloadAnalytics(){try{const{data:e,error:s}=await r.from("orders").select("*").order("created_at",{ascending:!1});if(!s&&e){const s=this.calculateAnalytics(e);i("analytics",s),this.recordPreload("analytics")}}catch(e){}}async preloadChartData(){try{const{data:e,error:s}=await r.from("orders").select("*").order("created_at",{ascending:!0});!s&&e&&(i("chartData",e),this.recordPreload("chartData"))}catch(e){}}async preloadActivities(){try{const[e,s]=await Promise.all([r.from("orders").select("*").order("created_at",{ascending:!1}).limit(8),r.from("products").select("*").order("id",{ascending:!1}).limit(8)]);if(!e.error&&!s.error){const{data:a}=e,{data:t}=s,r=(a||[]).map(e=>({id:`order-${e.id}`,type:"order",action:"New order received",item:`Order #${e.id}`,time:e.created_at,amount:e.total_amount})),l=(t||[]).map(e=>({id:`product-${e.id}`,type:"product",action:"Product added",item:e.name,time:(new Date).toISOString(),amount:e.price})),n=[...r,...l].sort((e,s)=>new Date(s.time)-new Date(e.time)).slice(0,10);i("activities",n),this.recordPreload("activities")}}catch(e){}}calculateAnalytics(e){if(!e.length)return{totalOrders:0,totalRevenue:0,pendingOrders:0,completedOrders:0,averageOrderValue:0,monthlyRevenue:0,monthlyOrders:0,revenueGrowth:0,ordersGrowth:0};const s=e.length,a=e.reduce((e,s)=>e+(s.total_amount||0),0),t=e.filter(e=>"pending"===e.status).length,r=e.filter(e=>"closed"===e.status).length,i=s>0?a/s:0,l=new Date,n=l.getMonth(),o=l.getFullYear(),c=0===n?11:n-1,d=0===n?o-1:o,m=e.filter(e=>{const s=new Date(e.created_at);return s.getMonth()===n&&s.getFullYear()===o}),g=e.filter(e=>{const s=new Date(e.created_at);return s.getMonth()===c&&s.getFullYear()===d}),x=m.reduce((e,s)=>e+(s.total_amount||0),0),u=m.length,h=g.reduce((e,s)=>e+(s.total_amount||0),0),p=g.length;return{totalOrders:s,totalRevenue:a,pendingOrders:t,completedOrders:r,averageOrderValue:i,monthlyRevenue:x,monthlyOrders:u,revenueGrowth:h>0?(x-h)/h*100:0,ordersGrowth:p>0?(u-p)/p*100:0}}recordPreload(e){this.preloadHistory.set(e,{timestamp:Date.now(),success:!0})}getPreloadStats(){return{queueSize:this.preloadQueue.size,historySize:this.preloadHistory.size,isPreloading:this.isPreloading,recentPreloads:Array.from(this.preloadHistory.entries()).sort((e,s)=>s[1].timestamp-e[1].timestamp).slice(0,10)}}cleanupHistory(){const e=Date.now()-36e5;for(const[s,a]of this.preloadHistory.entries())a.timestamp<e&&this.preloadHistory.delete(s)}async smartPreload(){l(),this.cleanupHistory();const e=["products","categories","orders","analytics","chartData","activities"];for(const s of e){const e=n(s);e&&e.isStale&&!this.preloadQueue.has(s)&&this.preloadData(s)}}},J=()=>{const e=u(),[s,a]=x.useState(null),[r,i]=x.useState(!1),n=x.useCallback(()=>{const e=o(),s=Z.getPreloadStats();a({...e,preload:s})},[]),d=x.useCallback(async e=>{i(!0);try{await Z.preloadByRoute(e)}catch(s){}finally{i(!1)}},[]),m=x.useCallback(async(e,s)=>{try{await Z.preloadByBehavior(e,s)}catch(a){}},[]),g=x.useCallback(()=>c()>5242880&&(l(),!0),[]);return x.useEffect(()=>{(async()=>{try{await Z.preloadEssentialData(),n()}catch(e){}})()},[n]),x.useEffect(()=>{d(e.pathname)},[e.pathname,d]),x.useEffect(()=>{const e=setInterval(()=>{g(),n()},6e4);return()=>clearInterval(e)},[g,n]),x.useEffect(()=>{const e=setInterval(()=>{Z.smartPreload()},3e5);return()=>clearInterval(e)},[]),{cacheStats:s,isPreloading:r,updateStats:n,preloadForRoute:d,preloadForBehavior:m,checkCacheHealth:g,hasValidCache:t}},X=()=>e.jsxs("div",{className:"flex flex-col rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded mb-4 w-1/2"}),e.jsx("div",{className:"mt-auto",children:e.jsx("div",{className:"h-10 bg-gray-200 rounded-full w-full"})})]})]}),ee=({children:s,delay:a=0,className:t=""})=>e.jsx("div",{className:`opacity-0 translate-y-4 transition-all duration-700 ease-out ${t}`,style:{animation:`fadeInUp 0.7s ease-out ${a}ms forwards`},children:s}),se=({children:s,className:a=""})=>e.jsx("div",{className:a,children:h.Children.map(s,(s,a)=>e.jsx(ee,{delay:100*a,children:s},a))}),ae=()=>e.jsx("main",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8 animate-pulse",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mb-12",children:[e.jsxs("section",{children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full h-80 sm:h-96 lg:h-[400px] bg-gray-200 rounded-lg animate-pulse"})}),e.jsx("div",{className:"flex gap-2 mt-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md animate-pulse"},s))})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 animate-pulse"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"w-9 h-9 bg-gray-200 rounded-lg animate-pulse"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"},s))}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-24 mb-2 animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6 animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 animate-pulse"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 animate-pulse"}),e.jsx("div",{className:"w-12 h-8 bg-gray-200 animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 animate-pulse"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12 mb-1 animate-pulse"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-20 animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded-md animate-pulse"}),e.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"w-full h-12 bg-gray-200 rounded-md animate-pulse"})]})]})]})]}),e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-1 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 animate-pulse"})]})]},s))})]})}),e.jsxs("section",{className:"mb-12",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 mb-6 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-gray-200"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-24 mb-4 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-1 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-32 animate-pulse"})]})]},s))})]})]})}),te=(e,s,a="",t="",r="")=>{document.title=e;const i=document.querySelector('meta[name="description"]');i&&i.setAttribute("content",s);const l=document.querySelector('meta[name="keywords"]');l&&a&&l.setAttribute("content",a);const n=document.querySelector('meta[property="og:title"]');n&&n.setAttribute("content",e);const o=document.querySelector('meta[property="og:description"]');o&&o.setAttribute("content",s);const c=document.querySelector('meta[property="og:url"]');c&&r&&c.setAttribute("content",r);const d=document.querySelector('meta[property="og:image"]');d&&t&&d.setAttribute("content",t);const m=document.querySelector('meta[name="twitter:title"]');m&&m.setAttribute("content",e);const g=document.querySelector('meta[name="twitter:description"]');g&&g.setAttribute("content",s);const x=document.querySelector('meta[name="twitter:url"]');x&&r&&x.setAttribute("content",r);const u=document.querySelector('meta[name="twitter:image"]');u&&t&&u.setAttribute("content",t);const h=document.querySelector('link[rel="canonical"]');h&&r&&h.setAttribute("href",r)},re={home:{title:"FurniStyle — Modern, Affordable Furniture in Kenya",description:"Discover modern, affordable furniture for your living room, bedroom, office and outdoor spaces. Shop sofas, beds, tables, chairs and more. Free delivery, easy returns, and expert assembly.",keywords:"furniture, sofas, beds, tables, chairs, living room, bedroom, office, outdoor, Kenya, modern furniture, affordable furniture, furniture delivery, furniture assembly, furniture care, furniture returns"},browse:{title:"Browse All Furniture — FurniStyle Kenya",description:"Browse our complete collection of modern furniture. Find the perfect pieces for every room in your home.",keywords:"browse furniture, all furniture, furniture collection, home furniture, Kenya furniture"},category:e=>({title:`${e} Furniture — FurniStyle Kenya`,description:`Shop ${e.toLowerCase()} furniture at FurniStyle. Modern, affordable ${e.toLowerCase()} pieces for your home.`,keywords:`${e.toLowerCase()} furniture, ${e.toLowerCase()}, furniture, home decor, Kenya`}),product:(e,s,a)=>({title:`${e} — ${a} Furniture | FurniStyle Kenya`,description:`Buy ${e} - ${a} furniture at KES ${s?.toLocaleString()}. Modern, quality furniture for your home. Free delivery in Kenya.`,keywords:`${e}, ${a.toLowerCase()} furniture, furniture, home decor, Kenya, modern furniture`}),contact:{title:"Contact Us — FurniStyle Kenya",description:"Get in touch with FurniStyle for furniture inquiries, support, or custom orders. We're here to help you find the perfect furniture.",keywords:"contact FurniStyle, furniture support, custom furniture, Kenya furniture store"},cart:{title:"Shopping Cart — FurniStyle Kenya",description:"Review your selected furniture items and proceed to checkout. Secure shopping with FurniStyle.",keywords:"shopping cart, furniture cart, checkout, FurniStyle"},search:e=>({title:`Search Results for "${e}" — FurniStyle Kenya`,description:`Find furniture matching "${e}" at FurniStyle. Browse our collection of modern, affordable furniture.`,keywords:`${e}, furniture search, ${e} furniture, Kenya furniture`})},ie=()=>({"@context":"https://schema.org","@type":"Organization",name:"FurniStyle",url:"https://shop-12c5.onrender.com",logo:"https://shop-12c5.onrender.com/android-chrome-512x512.png",description:"Modern, affordable furniture for your living room, bedroom, office and outdoor spaces in Kenya",address:{"@type":"PostalAddress",addressCountry:"KE"},sameAs:[]}),le=e=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))});const ne=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{addToCart:s}=V(),{products:a,loading:t,error:r,refresh:i,lastUpdated:l}=d(),[n,o]=x.useState(""),[c,m]=x.useState("All"),[g,u]=x.useState("All"),[h,y]=x.useState([0,1e5]),[f,_]=x.useState("relevance"),[$,F]=x.useState("grid"),[P,L]=x.useState(6),D=a.filter(e=>{const s=e.name?.toLowerCase()||"",a=e.category?.toLowerCase()||"",t=e.type?.toLowerCase()||"",r=n.toLowerCase(),i=""===r||s.includes(r)||a.includes(r)||t.includes(r),l="All"===c||e.category?.toLowerCase()===c.toLowerCase(),o="All"===g||e.type?.toLowerCase()===g.toLowerCase(),d=e.price>=h[0]&&e.price<=h[1];return i&&l&&o&&d}),I=[...D].sort((e,s)=>{switch(f){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"name":return e.name?.localeCompare(s.name);case"newest":return new Date(s.created_at||0)-new Date(e.created_at||0);default:return 0}}),R=I.slice(0,P),O=()=>{i(),L(6)},T=()=>{o(""),m("All"),u("All"),y([0,1e5]),_("relevance"),L(6)};return x.useEffect(()=>{const e=re.browse;te(e.title,e.description,e.keywords,"https://shop-12c5.onrender.com/android-chrome-512x512.png","https://shop-12c5.onrender.com/browse")},[]),t&&0===a.length?e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx(G,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})})}):e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-indigo-100",children:e.jsxs(G,{className:"py-12",padding:"responsive-lg",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"Browse Collection"})]}),e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight mb-6",children:["Discover Our",e.jsx("span",{className:"block text-indigo-600",children:"Furniture Collection"})]}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto",children:"Explore our curated selection of handcrafted furniture pieces designed to transform your space."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-semibold text-indigo-600",children:D.length})," product",1!==D.length?"s":""," available"]})}),l&&e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Updated: ",new Date(l).toLocaleTimeString()]})})]}),e.jsxs("button",{onClick:O,disabled:t,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",title:"Refresh data from server",children:[e.jsx(b,{className:"h-4 w-4 "+(t?"animate-spin":"")}),"Refresh"]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 space-y-6",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-indigo-600"}),"Filters"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:n,onChange:e=>o(e.target.value),className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-10 pr-4 text-sm placeholder-gray-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all duration-300"}),e.jsx(v,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),n&&e.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-300",children:e.jsx(w,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Category"}),e.jsx("div",{className:"space-y-3",children:["All","Living Room","Bedroom","Office","Outdoor"].map(s=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",value:s,checked:c===s,onChange:e=>m(e.target.value),className:"text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-indigo-600 transition-colors duration-300",children:s})]},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Type"}),e.jsx("div",{className:"space-y-3",children:["All","Sofa","Chair","Table","Bed","Bookshelf"].map(s=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"type",value:s,checked:g===s,onChange:e=>u(e.target.value),className:"text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-indigo-600 transition-colors duration-300",children:s})]},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:h[0],onChange:e=>y([parseInt(e.target.value)||0,h[1]]),className:"w-full px-3 py-2 border border-gray-200 bg-gray-50 rounded-xl text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all duration-300"}),e.jsx("input",{type:"number",placeholder:"Max",value:h[1],onChange:e=>y([h[0],parseInt(e.target.value)||1e5]),className:"w-full px-3 py-2 border border-gray-200 bg-gray-50 rounded-xl text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all duration-300"})]})})]}),e.jsx("button",{onClick:T,className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl hover:border-indigo-300 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-300 text-sm font-medium",children:"Clear All Filters"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:f,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-200 bg-gray-50 rounded-xl text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all duration-300",children:[e.jsx("option",{value:"relevance",children:"Sort by Relevance"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name: A to Z"}),e.jsx("option",{value:"newest",children:"Newest First"})]})}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-xl p-1 border border-white/20",children:[e.jsx("button",{onClick:()=>F("grid"),className:"p-2 rounded-lg transition-all duration-300 "+("grid"===$?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>F("list"),className:"p-2 rounded-lg transition-all duration-300 "+("list"===$?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),children:e.jsx(S,{className:"h-5 w-5"})})]})]}),r?e.jsxs("div",{className:"text-center py-20",children:[e.jsxs("p",{className:"text-red-600 text-lg mb-4",children:["Error loading products: ",r]}),e.jsx("button",{onClick:O,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):0===R.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(j,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search terms"}),e.jsx("button",{onClick:T,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Clear Filters"})]}):e.jsx("div",{className:"grid gap-6 "+("grid"===$?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:R.map(a=>{return e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105 border border-white/20 "+("list"===$?"flex gap-6 p-6":"p-6"),children:[e.jsx(p,{to:`/product/${a.slug||a.id}`,className:""+("list"===$?"w-48 flex-shrink-0":""),children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[e.jsx("img",{src:a.image_url||a.images?.[0]||"/placeholder-furniture.jpg",alt:a.name,className:"w-full object-cover transition-all duration-500 group-hover:scale-110 "+("list"===$?"h-32":"h-48")}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),e.jsxs("div",{className:""+("list"===$?"flex-1":"mt-4"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 gap-3",children:[e.jsx(p,{to:`/product/${a.slug||a.id}`,className:"text-lg font-semibold text-gray-900 hover:text-indigo-600 transition-colors flex-1 min-w-0",title:a.name,children:e.jsx("span",{className:"block truncate",children:a.name})}),e.jsx("span",{className:"text-lg font-bold text-indigo-600 flex-shrink-0 whitespace-nowrap",children:(t=a.price,`KES ${t?.toLocaleString(void 0,{minimumFractionDigits:2})??"N/A"}`)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{className:"capitalize",children:a.category}),a.type&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"capitalize",children:a.type})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{to:`/product/${a.slug||a.id}`,className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors duration-300",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>(e=>{s({id:e.id,name:e.name,price:e.price,image:e.image_url||e.images?.[0],slug:e.slug,quantity:1})})(a),className:"p-2 bg-indigo-100 text-indigo-600 rounded-xl hover:bg-indigo-200 transition-colors duration-300",children:e.jsx(A,{className:"h-4 w-4"})})]})]})]})]},a.id);var t})}),!t&&P<I.length&&e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx("button",{onClick:()=>{L(e=>Math.min(e+6,I.length))},className:"bg-indigo-600 text-white rounded-xl px-8 py-3 font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-300 shadow-lg hover:shadow-xl","aria-label":"Load more products",children:"Load More Products"})})]})]})]})})}},Symbol.toStringTag,{value:"Module"})),oe=({items:s=[]})=>s&&0!==s.length?e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-indigo-600 mb-6","aria-label":"Breadcrumb",children:[e.jsx(p,{to:"/",className:"flex items-center hover:text-indigo-800 transition-colors","aria-label":"Home",children:e.jsx(_,{className:"w-4 h-4"})}),s.map((a,t)=>e.jsxs(h.Fragment,{children:[e.jsx($,{className:"w-4 h-4 text-indigo-400"}),t===s.length-1?e.jsx("span",{className:"text-indigo-900 font-medium","aria-current":"page",children:a.label}):e.jsx(p,{to:a.href,className:"hover:text-indigo-800 transition-colors",children:a.label})]},t))]}):null,ce=({children:s,className:a,variant:t="primary",onClick:r,disabled:i=!1,...l})=>e.jsx("button",{onClick:r,disabled:i,className:z("inline-flex items-center justify-center rounded-full px-6 py-2 font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1",{primary:"bg-indigo-900 text-white hover:bg-indigo-800 focus:ring-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed",secondary:"bg-indigo-100 text-indigo-900 hover:bg-indigo-200 focus:ring-indigo-300 disabled:text-indigo-400 disabled:bg-indigo-50 disabled:cursor-not-allowed",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300 disabled:cursor-not-allowed"}[t],a),...l,children:s}),de=e=>`KES ${e?.toLocaleString(void 0,{minimumFractionDigits:2})??"N/A"}`;const me=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{slug:t}=y(),[r,i]=x.useState(0),[l,n]=x.useState(!1),[o,c]=x.useState(1),[g,u]=x.useState(!1),{addToCart:h}=V(),{product:f,loading:j,error:N,refresh:v}=m(t),{products:w}=d();(e=>{const[s,a]=x.useState(!1),t=x.useCallback(async()=>{if(e){a(!0);try{await Z.preloadRelatedData(e)}catch(N){}finally{a(!1)}}},[e]);x.useEffect(()=>{t()},[t])})(f?.id);const C=f?{...f,images:f.images||(f.image_url?[f.image_url]:[])}:null;x.useEffect(()=>{if(C){const e=re.product(C.name,C.price,C.category),s=`https://shop-12c5.onrender.com/product/${C.slug||C.id}`,a=C.images?.[0]||C.image_url;te(e.title,e.description,e.keywords,a,s);const t=(e=>({"@context":"https://schema.org","@type":"Product",name:e.name,description:e.description||`Modern ${e.category} furniture from FurniStyle`,image:e.images||[e.image_url],brand:{"@type":"Brand",name:"FurniStyle"},category:e.category,offers:{"@type":"Offer",price:e.price,priceCurrency:"KES",availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:"FurniStyle"}},url:`https://shop-12c5.onrender.com/product/${e.slug||e.id}`}))(C),r=document.createElement("script");return r.type="application/ld+json",r.text=JSON.stringify(t),document.head.appendChild(r),()=>{const e=document.querySelector('script[type="application/ld+json"]');e&&document.head.removeChild(e)}}},[C]);const S=w?.filter(e=>e.category===C?.category&&e.id!==C?.id).slice(0,4)||[],k=[{label:"Products",href:"/browse"},...C?.category?[{label:C.category.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase()),href:`/category/${C.category}`}]:[],{label:C?.name||"Product",href:"#"}];return j?e.jsx(ae,{}):N?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-red-600 text-xl",children:[e.jsxs("p",{children:["Error: ",N]}),e.jsxs("button",{onClick:v,className:"mt-4 flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(b,{className:"h-4 w-4"}),"Try Again"]})]}):C?e.jsx("main",{className:"min-h-screen bg-gray-50",children:e.jsxs(G,{className:"py-8",children:[e.jsx(oe,{items:k}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mb-12",children:[e.jsxs("section",{children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"relative w-full h-80 sm:h-96 lg:h-[400px] rounded-lg overflow-hidden bg-white shadow-sm",children:C.images&&C.images.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:C.images[r],alt:`${C.name} image ${r+1}`,className:"w-full h-full object-cover"}),C.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{C?.images&&i(e=>(e-1+C.images.length)%C.images.length)},"aria-label":"Previous image",className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-2 rounded-full shadow-sm transition-all duration-200",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C?.images&&i(e=>(e+1)%C.images.length)},"aria-label":"Next image",className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-2 rounded-full shadow-sm transition-all duration-200",children:e.jsx($,{className:"w-4 h-4"})})]})]}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 text-gray-500",children:"No images available"})})}),C.images&&C.images.length>1&&e.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:C.images.map((s,a)=>e.jsx("button",{onClick:()=>i(a),className:"flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all duration-200 "+(a===r?"border-indigo-600":"border-gray-200 hover:border-gray-300"),children:e.jsx("img",{src:s,alt:`${C.name} thumbnail ${a+1}`,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 leading-tight",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{u(!g)},className:"p-2 rounded-lg transition-colors "+(g?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"),"aria-label":g?"Remove from wishlist":"Add to wishlist",children:e.jsx(P,{className:"w-5 h-5 "+(g?"fill-current":"")})}),e.jsx("button",{onClick:()=>{navigator.share?navigator.share({title:C.name,text:`Check out this ${C.name} - ${de(C.price)}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),s("Product link copied to clipboard!"))},className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Share product",children:e.jsx(L,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>e.jsx(D,{className:"w-4 h-4 text-yellow-400 fill-current"},s))}),e.jsx("span",{className:"text-sm text-gray-500",children:"(4.8) • 127 reviews"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:de(C.price)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:C.description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),className:"p-2 hover:bg-gray-50 transition-colors",disabled:o<=1,children:e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"−"})}),e.jsx("span",{className:"px-4 py-2 text-sm font-medium min-w-[40px] text-center text-gray-900 border-x border-gray-300",children:o}),e.jsx("button",{onClick:()=>c(o+1),className:"p-2 hover:bg-gray-50 transition-colors",children:e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"+"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:de(C.price*o)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ce,{onClick:()=>{if(!C)return;h({id:C.id,name:C.name,price:C.price,image:C.images?.[0]??"",slug:C.slug,quantity:o})?s(`${o} item(s) added to cart!`):a("Item is already in your cart.")},className:"flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium rounded-md",children:[e.jsx(A,{className:"w-4 h-4"}),"Add to Cart"]}),e.jsxs("a",{href:(()=>{if(!C)return"#";const e=`${window.location.origin}/product/${C.slug||t}`,s=`Hi, I'm interested in ${C.name} (KES ${C.price?.toLocaleString()??"N/A"}). ${e}`;return`https://wa.me/+254799590711?text=${encodeURIComponent(s)}`})(),target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white rounded-md px-4 py-3 font-medium hover:bg-indigo-700 transition-colors text-sm",children:[e.jsx(I,{className:"w-4 h-4"}),"Buy Now"]})]}),e.jsxs("a",{href:(()=>{if(!C)return"#";const e=`${window.location.origin}/product/${C.slug||t}`,s=`Check out this item: ${C.name}. ${e}`;return`https://wa.me/?text=${encodeURIComponent(s)}`})(),target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white rounded-md px-4 py-3 font-medium hover:bg-green-700 transition-colors text-sm",children:[e.jsx(L,{className:"w-4 h-4"}),"Share on WhatsApp"]})]})]})]})]}),e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Specifications"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Dimensions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"200cm × 80cm × 90cm"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weight"}),e.jsx("p",{className:"text-sm text-gray-600",children:"45 kg"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Material"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Solid Wood & Fabric"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Assembly"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Professional Assembly Included"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Warranty"}),e.jsx("p",{className:"text-sm text-gray-600",children:"1 Year Manufacturer Warranty"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"3-5 Business Days"})]})]})]})]})}),S.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:S.map(s=>e.jsxs(p,{to:`/product/${s.slug||s.id}`,className:"group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:s.images?.[0]||s.image_url,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2 group-hover:text-indigo-600 transition-colors text-sm",children:s.name}),e.jsx("p",{className:"text-indigo-600 font-semibold",children:de(s.price)})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need Help?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Call Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+254 711 111 111"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:"info@furniturestore.com"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Business Hours"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Mon-Fri: 8AM-6PM"})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center text-indigo-800 text-xl",children:"Product not found."})}},Symbol.toStringTag,{value:"Module"}));const ge=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{categorySlug:s}=y(),a=x.useMemo(()=>s.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),[s]),{addToCart:t}=V(),{products:r,loading:i,error:l,refresh:n,lastUpdated:o}=g(a),[c,d]=x.useState(""),[m,u]=x.useState("All"),[h,f]=x.useState([0,1e5]),[j,_]=x.useState("relevance"),[$,F]=x.useState("grid"),[P,L]=x.useState(6),D=r.filter(e=>{const s=e.name?.toLowerCase()||"",a=e.type?.toLowerCase()||"",t=c.toLowerCase(),r=""===t||s.includes(t)||a.includes(t),i="All"===m||e.type?.toLowerCase()===m.toLowerCase(),l=e.price>=h[0]&&e.price<=h[1];return r&&i&&l}),I=[...D].sort((e,s)=>{switch(j){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"name":return e.name?.localeCompare(s.name);case"newest":return new Date(s.created_at||0)-new Date(e.created_at||0);default:return 0}}),R=I.slice(0,P),O=()=>{d(""),u("All"),f([0,1e5]),_("relevance"),L(6)},T=()=>{n(),L(6)};return i&&0===r.length?e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx(G,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})})}):e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs(G,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold text-lg",children:a.charAt(0)})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[o&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date(o).toLocaleTimeString()]}),e.jsxs("button",{onClick:T,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Refresh data from server",children:[e.jsx(b,{className:"h-4 w-4 "+(i?"animate-spin":"")}),"Refresh"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.length," product",1!==D.length?"s":""," in ",a]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[e.jsx(N,{className:"h-4 w-4"}),"Filters"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:`Search in ${a}...`,value:c,onChange:e=>d(e.target.value),className:"w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-4 text-sm placeholder-gray-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20"}),e.jsx(v,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),c&&e.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(w,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Type"}),e.jsx("div",{className:"space-y-2",children:["All","Sofa","Chair","Table","Bed","Bookshelf"].map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"type",value:s,checked:m===s,onChange:e=>u(e.target.value),className:"text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:s})]},s))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Price Range"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:h[0],onChange:e=>f([parseInt(e.target.value)||0,h[1]]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none"}),e.jsx("input",{type:"number",placeholder:"Max",value:h[1],onChange:e=>f([h[0],parseInt(e.target.value)||1e5]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none"})]})})]}),e.jsx("button",{onClick:O,className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:border-indigo-300 hover:text-indigo-600 transition-colors text-sm font-medium",children:"Clear All Filters"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:j,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none",children:[e.jsx("option",{value:"relevance",children:"Sort by Relevance"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name: A to Z"}),e.jsx("option",{value:"newest",children:"Newest First"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>F("grid"),className:"p-2 rounded-lg "+("grid"===$?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"),children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>F("list"),className:"p-2 rounded-lg "+("list"===$?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"),children:e.jsx(S,{className:"h-5 w-5"})})]})]}),l?e.jsxs("div",{className:"text-center py-20",children:[e.jsxs("p",{className:"text-red-600 text-lg mb-4",children:["Error loading products: ",l]}),e.jsx("button",{onClick:T,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):0===R.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["No products found in ",a," matching your criteria"]}),e.jsx("button",{onClick:O,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Clear Filters"})]}):e.jsx("div",{className:"grid gap-6 "+("grid"===$?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:R.map(s=>{return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow "+("list"===$?"flex gap-6 p-6":"p-6"),children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:""+("list"===$?"w-48 flex-shrink-0":""),children:e.jsx("img",{src:s.image_url||s.images?.[0]||"/placeholder-furniture.jpg",alt:s.name,className:"rounded-lg object-cover "+("list"===$?"w-full h-32":"w-full h-48")})}),e.jsxs("div",{className:""+("list"===$?"flex-1":"mt-4"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 gap-3",children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:"text-base font-semibold text-gray-900 hover:text-indigo-600 transition-colors flex-1 min-w-0",title:s.name,children:e.jsx("span",{className:"block truncate",children:s.name})}),e.jsx("span",{className:"text-base font-bold text-indigo-600 flex-shrink-0 whitespace-nowrap",children:(a=s.price,`KES ${a?.toLocaleString(void 0,{minimumFractionDigits:2})??"N/A"}`)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{className:"capitalize",children:s.category}),s.type&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"capitalize",children:s.type})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>(e=>{t({id:e.id,name:e.name,price:e.price,image:e.image_url||e.images?.[0],slug:e.slug,quantity:1})})(s),className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200 transition-colors",children:e.jsx(A,{className:"h-4 w-4"})})]})]})]})]},s.id);var a})}),!i&&P<I.length&&e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx("button",{onClick:()=>{L(e=>Math.min(e+6,I.length))},className:"bg-indigo-600 text-white rounded-full px-10 py-3 font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-300","aria-label":"Load more products",children:"Load More"})})]})]})]})})}},Symbol.toStringTag,{value:"Module"}));const xe=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[s,a]=f(),[t,r]=x.useState("relevance"),[i,l]=x.useState("grid"),[n,o]=x.useState([0,1e5]),[c,m]=x.useState("all"),{addToCart:g}=V(),{products:u,loading:h}=d(),y=s.get("q")||"",[j,b]=x.useState(y),w=u.filter(e=>{const s=e.name?.toLowerCase().includes(y.toLowerCase())||e.description?.toLowerCase().includes(y.toLowerCase())||e.category?.toLowerCase().includes(y.toLowerCase()),a="all"===c||e.category?.toLowerCase()===c.toLowerCase(),t=e.price>=n[0]&&e.price<=n[1];return s&&a&&t}),_=[...w].sort((e,s)=>{switch(t){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"name":return e.name?.localeCompare(s.name);case"newest":return new Date(s.created_at||0)-new Date(e.created_at||0);default:return 0}});return h?e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx(G,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Searching products..."})]})})}):e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs(G,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(v,{className:"h-6 w-6 text-indigo-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:y?`Search Results for "${y}"`:"Search Products"})]}),e.jsx("form",{onSubmit:e=>{e.preventDefault(),j.trim()&&a({q:j.trim()})},className:"max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"search",value:j,onChange:e=>b(e.target.value),placeholder:"Search for furniture, categories, or brands...",className:"w-full rounded-full border border-gray-300 bg-white py-3 pl-12 pr-4 text-lg placeholder-gray-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20"}),e.jsx(v,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-indigo-600 text-white px-6 py-2 rounded-full hover:bg-indigo-700 transition-colors",children:"Search"})]})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[w.length," product",1!==w.length?"s":""," found"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[e.jsx(N,{className:"h-4 w-4"}),"Filters"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Category"}),e.jsx("div",{className:"space-y-2",children:["all","living room","bedroom","office","outdoor"].map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:s,checked:c===s,onChange:e=>m(e.target.value),className:"text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:"all"===s?"All Categories":s})]},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Price Range"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:n[0],onChange:e=>o([parseInt(e.target.value)||0,n[1]]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none"}),e.jsx("input",{type:"number",placeholder:"Max",value:n[1],onChange:e=>o([n[0],parseInt(e.target.value)||1e5]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none"})]})})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:t,onChange:e=>r(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:border-indigo-500 focus:outline-none",children:[e.jsx("option",{value:"relevance",children:"Sort by Relevance"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name: A to Z"}),e.jsx("option",{value:"newest",children:"Newest First"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l("grid"),className:"p-2 rounded-lg "+("grid"===i?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"),children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>l("list"),className:"p-2 rounded-lg "+("list"===i?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"),children:e.jsx(S,{className:"h-5 w-5"})})]})]}),0===_.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(v,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or filters"}),e.jsx(p,{to:"/browse",className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Browse All Products"})]}):e.jsx("div",{className:"grid gap-6 "+("grid"===i?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:_.map(s=>{return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow "+("list"===i?"flex gap-6 p-6":"p-6"),children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:""+("list"===i?"w-48 flex-shrink-0":""),children:e.jsx("img",{src:s.image_url||s.images?.[0]||"/placeholder-furniture.jpg",alt:s.name,className:"rounded-lg object-cover "+("list"===i?"w-full h-32":"w-full h-48")})}),e.jsxs("div",{className:""+("list"===i?"flex-1":"mt-4"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 gap-3",children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:"text-base font-semibold text-gray-900 hover:text-indigo-600 transition-colors flex-1 min-w-0",title:s.name,children:e.jsx("span",{className:"block truncate",children:s.name})}),e.jsx("span",{className:"text-base font-bold text-indigo-600 flex-shrink-0 whitespace-nowrap",children:(a=s.price,`KES ${a?.toLocaleString(void 0,{minimumFractionDigits:2})??"N/A"}`)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 capitalize",children:s.category}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{to:`/product/${s.slug||s.id}`,className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>(e=>{g({id:e.id,name:e.name,price:e.price,image:e.image_url||e.images?.[0],slug:e.slug,quantity:1})})(s),className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200 transition-colors",children:e.jsx(A,{className:"h-4 w-4"})})]})]})]})]},s.id);var a})})]})]})]})})}},Symbol.toStringTag,{value:"Module"}));export{ne as B,G as C,ee as F,X as P,se as S,J as a,Y as b,te as c,ie as d,re as e,me as f,le as g,ge as h,xe as i,V as u};
